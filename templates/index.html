<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8fafc;
      padding-top: 70px;
    }
    .navbar-custom {
      background-color: #343a40;
      box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    }
    .navbar-brand {
      font-size: 1.7rem;
      font-weight: 600;
      letter-spacing: 1px;
    }
    .hero {
      text-align: center;
      margin-bottom: 40px;
      padding: 40px 0 20px 0;
      background: linear-gradient(90deg, #e3eafc 0%, #f8fafc 100%);
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(52,58,64,0.07);
    }
    .hero-icon {
      font-size: 3rem;
      color: #0d6efd;
      margin-bottom: 10px;
    }
    .result-card {
      margin-top: 20px;
      border-radius: 16px;
      box-shadow: 0 2px 16px rgba(52,58,64,0.09);
      overflow: hidden;
    }
    .card-header {
      font-size: 1.2rem;
      font-weight: 500;
    }
    textarea.result-area {
      height: 350px;
      resize: none;
      border-radius: 8px;
      background: #f4f6fb;
      font-size: 1rem;
    }
    .word-count {
      font-weight: bold;
      color: #0d6efd;
      margin-bottom: 8px;
    }
    .input-group {
      box-shadow: 0 2px 8px rgba(52,58,64,0.07);
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <!-- Navbar removed for cleaner layout -->
      <a class="navbar-brand" href="#">Scraper Comparator</a>
    </div>
  </nav>
  
  <div class="container">
    <!-- Hero Section -->
    <div class="hero">
      <div class="hero-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11 6a5 5 0 1 1-2-9.9A5 5 0 0 1 11 6zm-1.293 7.707a1 1 0 0 1-1.414 0l-3.387-3.387A6.5 6.5 0 1 1 13.5 6.5a6.5 6.5 0 0 1-6.5 6.5c-.828 0-1.636-.134-2.393-.38l3.387 3.387a1 1 0 0 1 0 1.414z"/>
        </svg>
      </div>
      <h1 class="display-5 fw-bold">Compare Scraping Results</h1>
      <p class="lead">Crawl4AI <span class="text-primary">vs</span> BeautifulSoup</p>
      <p class="lead">Crawl4AI <span class="text-primary">vs</span> BeautifulSoup <span class="text-danger">vs</span> Firecrawl</p>
    </div>
    
    <!-- URL Input Form -->
    <form method="POST" class="mb-4">
      <div class="input-group p-2 bg-white">
        <input type="text" name="url" class="form-control" placeholder="Enter website URL" required value="{{ url }}">
        <button type="submit" class="btn btn-primary">Scrape</button>
      </div>
    </form>

    {% if bs4_result or crawl4ai_result or firecrawl_result %}
    <!-- Summary Section -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="card shadow-sm border-0" style="border-radius: 16px;">
          <div class="card-body text-center">
            {% set bs4_count = bs4_result.split()|length %}
            {% set crawl4ai_count = crawl4ai_result.split()|length %}
            {% set firecrawl_count = firecrawl_result.split()|length %}
            <h5 class="mb-3">Summary</h5>
            <div class="d-flex justify-content-center align-items-center gap-4 mb-2">
              <span class="badge bg-primary">BeautifulSoup: {{ bs4_count }} words</span>
              <span class="badge bg-success">Crawl4AI: {{ crawl4ai_count }} words</span>
              <span class="badge bg-danger">Firecrawl: {{ firecrawl_count }} words</span>
            </div>
            {% set min_count = [bs4_count, crawl4ai_count, firecrawl_count]|min %}
            {% if min_count == bs4_count %}
              <span class="text-primary fw-bold">BeautifulSoup produced the most optimized (shortest) result.</span>
            {% elif min_count == crawl4ai_count %}
              <span class="text-success fw-bold">Crawl4AI produced the most optimized (shortest) result.</span>
            {% elif min_count == firecrawl_count %}
              <span class="text-danger fw-bold">Firecrawl produced the most optimized (shortest) result.</span>
            {% else %}
              <span class="fw-bold">All results have the same word count.</span>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
    {% endif %}
    </form>
    
    <!-- Results -->
    {% if bs4_result or crawl4ai_result or firecrawl_result %}
    <div class="row">
      <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="card result-card">
          <div class="card-header bg-primary text-white">
            <i class="bi bi-file-earmark-text"></i> BeautifulSoup Result
          </div>
          <div class="card-body">
            <p class="word-count">Word Count: {{ bs4_result.split()|length }}</p>
            <textarea class="form-control result-area" readonly>{{ bs4_result }}</textarea>
          </div>
        </div>
      </div>
      <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="card result-card">
          <div class="card-header bg-success text-white">
            <i class="bi bi-robot"></i> Crawl4AI Result
          </div>
          <div class="card-body">
            <p class="word-count">Word Count: {{ crawl4ai_result.split()|length }}</p>
            <textarea class="form-control result-area" readonly>{{ crawl4ai_result }}</textarea>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card result-card">
          <div class="card-header bg-danger text-white">
            <i class="bi bi-fire"></i> Firecrawl Result
          </div>
          <div class="card-body">
            <p class="word-count">Word Count: {{ firecrawl_result.split()|length }}</p>
            <textarea class="form-control result-area" readonly>{{ firecrawl_result }}</textarea>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
  
  <!-- Bootstrap 5 JS Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>